<!-- <div class="content__title ad-ph" style="padding-bottom: 16px;">
    <nz-breadcrumb>
      <nz-breadcrumb-item>报表</nz-breadcrumb-item>
      <nz-breadcrumb-item>营收报表</nz-breadcrumb-item>
      <nz-breadcrumb-item>营收报表详情</nz-breadcrumb-item>
    </nz-breadcrumb>
    <h3 class="title">营收报表详情</h3>
  </div> -->

  <nz-card [nzBordered]="false">
    <div nz-form [nzLayout]="'inline'" class="search__form">
      <nz-row [nzGutter]="{ md: 8, lg: 24, xl: 48 }">
        <nz-col nzMd="8" nzSm="24">
          <nz-form-item>
            <nz-form-label nzFor="money">订单类型</nz-form-label>
            <nz-form-control>
              <nz-select style="width: 200px;" [(ngModel)]="status" (ngModelChange)="selectOrderStatus()" name="statusList" nzPlaceHolder="请选择{{orderTypeTitle}}"
                [nzShowSearch]="true">
                <nz-option *ngFor="let i of statusList; let idx = index" [nzLabel]="i.statusName" [nzValue]="i.status"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24">
          <nz-form-item>
            <nz-form-label nzFor="productId">选择日期</nz-form-label>
            <nz-form-control>
              <nz-range-picker [nzDisabledDate]="disabledDate" [nzAllowClear]="false" nzFormat="yyyy-MM-dd" [(ngModel)]="dateRange" (ngModelChange)="onDateChange($event)"></nz-range-picker>
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24" style="overflow: hidden;height: 56.5px;">
          <nz-form-item>
            <jn-stores-infor [nzXs]="7" [moduleId]="moduleId" [storeId]="storeId" [ifStoresAll]="ifStoresAll" [ifStoresAuth]="ifStoresAuth"
              (storeListPush)="storeListPush($event)" (storeIdOutput)="getStoreId($event)"></jn-stores-infor>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24">
          <nz-form-item>
            <nz-form-label nzFor="money">业务类型</nz-form-label>
            <nz-form-control>
              <nz-select style="width: 200px;" [(ngModel)]="status" (ngModelChange)="selectOrderStatus()" name="statusList" nzPlaceHolder="请选择{{orderTypeTitle}}"
                [nzShowSearch]="true">
                <nz-option *ngFor="let i of statusList; let idx = index" [nzLabel]="i.statusName" [nzValue]="i.status"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24">
          <nz-form-item>
            <nz-form-label nzFor="money">付款方式</nz-form-label>
            <nz-form-control>
              <nz-select style="width: 200px;" [(ngModel)]="status" (ngModelChange)="selectOrderStatus()" name="statusList" nzPlaceHolder="请选择{{orderTypeTitle}}"
                [nzShowSearch]="true">
                <nz-option *ngFor="let i of statusList; let idx = index" [nzLabel]="i.statusName" [nzValue]="i.status"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24" *ngIf="expandForm && (tabActiveType != 'MINIPROGRAM')">
          <nz-form-item>
            <nz-form-label nzFor="phone">搜 索</nz-form-label>
            <nz-form-control>
              <input nz-input name="orderNo" [(ngModel)]="orderNo" placeholder="请输入项目名称" id="orderNo">
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col nzMd="8" nzSm="24" *ngIf="expandForm && (tabActiveType != 'MINIPROGRAM')">
          <nz-form-item>
            <nz-form-label nzFor="phone">搜 索</nz-form-label>
            <nz-form-control>
              <input nz-input name="orderNo" [(ngModel)]="orderNo" placeholder="请输入会员手机号/姓名" id="orderNo">
            </nz-form-control>
          </nz-form-item>
        </nz-col>
        <nz-col [nzSpan]="expandForm ? 24 : 8" [class.text-right]="expandForm" style="width:200px">
          <button nz-button type="submit" [nzType]="'primary'" [nzLoading]="loading" (click)="getData()">查询</button>
          <a (click)="expandForm=!expandForm">
            {{expandForm ? '收起' : '展开'}}
            <i class="anticon" [class.anticon-down]="!expandForm" [class.anticon-up]="expandForm"></i>
          </a>
        </nz-col>
      </nz-row>
    </div>
    <div class="mb-md">
      <nz-alert nzType="info" nzMessage="共有 2 条数据  |   总金额：300.00万" nzShowIcon></nz-alert>
    </div>
    <!-- table -->
    <nz-table [nzNoResult]="'没有数据'" #basicTable [nzShowPagination]="false" [nzData]="reportOrderList">
      <thead nz-thead class="ui-grid-thead">
        <tr>
          <th nz-th class="" *ngFor="let item of theadName;let i = index" (click)="checkDetailInfor(orderDetail)">{{item}}</th>
        </tr>
      </thead>
      <tbody nz-tbody class="ui-grid-tbody">
        <tr nz-tbody-tr *ngFor="let item of reportOrderList; let i = index">
          <td style="color: #368ff7">{{item.orderNo}}</td>
          <td>{{item.dateCreated? item.dateCreated : '-'}}</td>
          <td>{{item.payTypeName}}</td>
          <td>{{item.storeName}}</td>
          <td>{{item.storeName}}</td>
  
          <td class="panduan" style="font-size: 0">
            <span class="iconfont icon-dian" [class.paid]="item.status === 'PAID'"></span>
            <span style="font-size: 14px">{{item.statusName}}</span>
          </td>
          <td>{{item.amount/100}}</td>
          <td style="color: #108EE9;cursor: pointer" (click)="checkDetailInfor(orderDetail,item.orderNo,item.status)">查看详情</td>
        </tr>
      </tbody>
    </nz-table>
  
    <div class="nzPaginationBox">
      <nz-pagination class="nzPagination" style="float: right;padding: 20px 0" [nzTotal]="totalElements" [nzPageSize]="10" (nzPageIndexChange)="paginate($event)"></nz-pagination>
    </div>
  </nz-card>
  
  <!--查看详情-->
  <ng-template #orderDetail>
    <div class="reserve-record-alert">
      <div class="content-title">
        <span></span>{{typeText}}详情</div>
        <div class="orderpage_detail_list detail_list_bot">
          <table>
            <tr class="ui-grid-row">
              <td class="">订单编号</td>
              <td class="">1526442516236560284087</td>
              <td class="">下单时间</td>
              <td class="trans-status">2018-05-21 15:11:13</td>
              <td class="">订单状态</td>
              <td class="trans-status">已支付</td>
            </tr>
            <tr class="ui-grid-row">
              <td class="">交易号</td>
              <td class="">201805213452809594831849</td>
              <td class="">收款门店</td>
              <td class="trans-status">桔牛体验店(健身馆)</td>
              <td class="">支付方式</td>
              <td class="trans-status">微信</td>
            </tr>
          </table>
        </div>
      <nz-table [nzNoResult]="''" #basicTable [nzShowPagination]="false" [nzData]="orderItemDetail">
        <thead nz-thead class="ui-grid-thead">
          <tr>
            <th nz-th class="">商品分类</th>
            <th nz-th class="">商品名称</th>
            <th nz-th class="">单价(元)</th>
            <th nz-th class="">数量(件)</th>
            <th nz-th class="">金额(元)</th>
          </tr>
        </thead>
        <tbody nz-tbody class="ui-grid-tbody">
          <tr nz-tbody-tr *ngFor="let list of orderItemDetail">
            <td style="color: #108EE9">1</td>
            <td>2</td>
            <td>5</td>
            <td>6</td>
            <td>7}</td>
          </tr>
        </tbody>
      </nz-table>
      <table class="table-singel-nannan" *ngIf="tabActiveType === 'MEIDA' || tabActiveType === 'KOUBEI'">
        <thead class="ui-grid-thead">
          <tr>
            <th class="" *ngIf="tabActiveType === 'KOUBEI'">核销码</th>
            <th class="" *ngIf="tabActiveType === 'MEIDA'">券码</th>
            <th class="">商品名称</th>
            <th class="">单价(元)</th>
            <th class="">数量(件)</th>
            <th class="">金额(元)</th>
          </tr>
        </thead>
        <tbody class="ui-grid-tbody" *ngIf="reportOrderDetail && (tabActiveType === 'MEIDA' || tabActiveType === 'KOUBEI')">
          <tr>
            <td style="color: #108EE9" *ngIf="tabActiveType === 'MEIDA'">{{reportOrderDetail.voucherVO.voucherNo? reportOrderDetail.voucherVO.voucherNo: '-'}}</td>
            <td style="color: #108EE9" *ngIf="tabActiveType === 'KOUBEI'">{{reportOrderDetail.voucherItemVO.voucherNo? reportOrderDetail.voucherItemVO.voucherNo: '-'}}</td>
            <td>{{reportOrderDetail.voucherVO.body? reportOrderDetail.voucherVO.body: '-'}}</td>
            <td>{{reportOrderDetail.voucherItemVO.price/100}}</td>
            <td>{{reportOrderDetail.voucherItemVO.num? reportOrderDetail.voucherItemVO.num : 1}}</td>
            <td>{{(reportOrderDetail.voucherItemVO.price/100) * (reportOrderDetail.voucherItemVO.num? reportOrderDetail.voucherItemVO.num
              : 1)}}</td>
          </tr>
        </tbody>
      </table>
      <div class="orderpage_detail_list_bottom detail_list_bot">
        <table>
          <tr class="ui-grid-row">
            <td class="">优惠券</td>
            <td class="">1</td>
            <td class="">优惠金额</td>
            <td class="trans-status">2元</td>
            <td class="">实付金额</td>
            <td class="trans-status">3元</td>
          </tr>
          <tr class="ui-grid-row">
            <td class="">技师</td>
            <td class="">1</td>
            <td class="">是否指定</td>
            <td class="trans-status">2元</td>
            <td class="">小工</td>
            <td class="trans-status">3元</td>
          </tr>
        </table>
      </div>
    </div>
  </ng-template>
  