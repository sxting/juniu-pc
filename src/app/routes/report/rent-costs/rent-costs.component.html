
<div class="content__title ad-ph" style="padding-bottom: 16px;">
  <nz-breadcrumb>
    <nz-breadcrumb-item>报表</nz-breadcrumb-item>
    <nz-breadcrumb-item>利润报表</nz-breadcrumb-item>
    <nz-breadcrumb-item>房租水电成本</nz-breadcrumb-item>
  </nz-breadcrumb>
  <h3 class="title">房租水电成本</h3>
  <p class="content-text">每月纪录门店的房租、水电、物业费、餐费等门店开销。</p>
</div>
<!-- table 图表 -->
<form nz-form [formGroup]="form" [nzLayout]="'vertical'">
  <nz-card [nzBordered]="false" style="margin-bottom: 0!important;">
    <div nz-form [nzLayout]="'inline'"  class="search__form">
      <nz-row [nzGutter]="{ md: 8, lg: 24, xl: 48 }">
        <nz-col nzMd="8" nzSm="24">
          <jn-stores-infor [nzXs]="7" [moduleId]="moduleId" [ifStoresAll]="ifStoresAll" [ifStoresAuth]="ifStoresAuth"
                           (storeListPush)="storeListPush($event)" (storeIdOutput)="getStoreId($event)"></jn-stores-infor>
        </nz-col>
      </nz-row>
    </div>
  </nz-card>
  <nz-card [nzBordered]="false">
    <nz-table formArrayName="items" [nzData]="items.value" [nzShowPagination]="false">
      <thead>
      <tr>
        <th nz-th class="tal">月份</th>
        <th nz-th class="tac" *ngFor="let list of theadName">{{ list }}</th>
        <th nz-th class="tar">操作</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of items.controls; let i = index" [formGroupName]="i">
        <td>
          <span *ngIf="editIndex!==i">{{items.value[i].name}}</span>
          <span *ngIf="editIndex===i" nz-form-control>
              <input nz-input formControlName="name" placeholder="请输入成员姓名">
            </span>
        </td>
        <td>
          <span *ngIf="editIndex!==i">{{items.value[i].workId}}</span>
          <span *ngIf="editIndex===i" nz-form-control>
              <input nz-input formControlName="workId" placeholder="请输入工号">
            </span>
        </td>
        <td>
          <span *ngIf="editIndex!==i">{{items.value[i].department}}</span>
          <span *ngIf="editIndex===i" nz-form-control>
              <input nz-input formControlName="department" placeholder="请输入所属部门">
            </span>
        </td>
        <td>
            <span *ngIf="editIndex!==i">
              <a (click)="edit(i)">编辑</a>
              <nz-divider nzType="vertical"></nz-divider>
              <nz-popconfirm (nzOnConfirm)="del(i)" [nzTitle]="'是否要删除此行？'">
                <a nz-popconfirm>删除</a>
              </nz-popconfirm>
            </span>
          <span *ngIf="editIndex===i">
              <a (click)="save(i)">保存</a>
              <nz-divider nzType="vertical"></nz-divider>
              <nz-popconfirm (nzOnConfirm)="cancel(i)" [nzTitle]="'是否要取消操作？'">
                <a nz-popconfirm>取消</a>
              </nz-popconfirm>
            </span>
        </td>
      </tr>
      </tbody>
    </nz-table>
    <button *ngIf="editIndex===-1" nz-button [nzType]="'dashed'" (click)="add()" class="ant-btn__block mt-md">
      <i class="anticon anticon-plus"></i>
      <span>新增成员</span>
    </button>
  </nz-card>
</form>
