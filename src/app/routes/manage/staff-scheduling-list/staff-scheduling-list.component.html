<page-header>
    安排员工的上下班时间，并实时同步到前端，方便顾客预约员工。
</page-header>
<nz-card [nzBordered]="false">
    <div style="display: flex">
        <div style="width: 30%">
            <button nz-button (click)="addNewSchedulingRules()" [nzType]="'primary'">
                <span>新增排班规则</span>
            </button>
        </div>
        <form nz-form [nzLayout]="'inline'" class="search__form" style="width: 70%">
            <nz-row [nzGutter]="{ md: 8, lg: 24, xl: 48 }">
                <nz-col nzMd="8" nzSm="24">
                    <nz-form-item>
                        <nz-form-label nzFor="storeId">选择门店</nz-form-label>
                        <nz-form-control>
                            <nz-select [(ngModel)]="storeId" (ngModelChange)="selectStore()" name="storeList" id="storeList" [nzPlaceHolder]="'全部门店'" [nzShowSearch]="true">
                                <nz-option *ngFor="let i of storeList; let idx = index" [nzLabel]="i.storeName" [nzValue]="i.storeId"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </nz-col>
            </nz-row>
        </form>
    </div>


    <nz-table #basicTable [nzShowPagination]="false" [nzData]="schedulingListInfor">
        <thead nz-thead class="ui-grid-thead">
        <tr>
            <th nz-th class="" *ngFor="let list of theadName">{{list}}</th>
        </tr>
        </thead>
        <tbody nz-tbody class="ui-grid-tbody">
        <tr nz-tbody-tr *ngFor="let item of schedulingListInfor;let i = index">
            <td nz-td>{{item.typeName}}</td>
            <td nz-td>{{item.cardConfigName}}</td>
            <td nz-td>{{item.cardConfigId}}</td>
            <td nz-td>{{item.isOnlineSale/100}}</td>
            <td nz-td class="operation">
                <span (click)="checkDetailInfor(item.cardConfigId)">编辑</span>
                <span class="iconfont icon-line1"></span>
                <span (click)="operationProduct(i,item.cardConfigId,item.putaway)">{{statusFlag == 1? '下架':'上架'}}</span>
            </td>
        </tr>
        </tbody>
    </nz-table>
    <div class="nzPaginationBox">
        <nz-pagination class="nzPagination" style="float: right;padding: 20px 0" [nzTotal]="totalElements" [nzPageSize]="10" (nzPageIndexChange)="paginate($event)"></nz-pagination>
    </div>
</nz-card>
